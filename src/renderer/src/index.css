@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
 * Theme variables are set dynamically via JavaScript from themes.ts
 * The :root defaults below are the 'dark' theme as fallback
 */
:root {
  --background: 0 0% 3.9%;
  --foreground: 0 0% 98%;
  --card: 0 0% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 0 0% 9%;
  --secondary: 0 0% 14.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 14.9%;
  --muted-foreground: 0 0% 63.9%;
  --accent: 0 0% 14.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 14.9%;
  --input: 0 0% 14.9%;
  --ring: 0 0% 83.1%;
  --radius: 0.5rem;
}

* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-feature-settings: "rlig" 1, "calt" 1;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.2);
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.3);
}

/* Auto-hide scrollbar - show only on hover */
.scrollbar-autohide::-webkit-scrollbar-thumb {
  background: transparent;
}

.scrollbar-autohide:hover::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.2);
}

.scrollbar-autohide:hover::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.3);
}

/* Keyboard shortcut styling - ensure symbols render at consistent size */
kbd {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  /* Use slightly larger font for better symbol visibility */
  font-size: 0.8125rem; /* 13px - good balance for mixed alpha/symbol */
  line-height: 1;
}

/* Disable text selection on drag handles */
.drag-handle {
  user-select: none;
  -webkit-user-select: none;
}

/* Draggable title bar region for macOS */
.titlebar-drag-region {
  -webkit-app-region: drag;
}

.no-drag {
  -webkit-app-region: no-drag;
}

/* ProseMirror typography overrides - Lexical-inspired baseline spacing */
/* These defaults provide comfortable reading spacing similar to Lexical editor */
.prose .ProseMirror > * {
  margin-top: 0;
  margin-bottom: 1rem; /* 16px - Lexical uses 15px, we use 1rem for consistency */
}

/* Last element shouldn't have bottom margin */
.prose .ProseMirror > *:last-child {
  margin-bottom: 0;
}

.prose .ProseMirror ul,
.prose .ProseMirror ol {
  padding-left: 1.5rem;
}

/* Headings get slightly more space before them for visual separation */
.prose .ProseMirror h1,
.prose .ProseMirror h2,
.prose .ProseMirror h3 {
  margin-top: 1.5rem;
}

/* First heading shouldn't have top margin */
.prose .ProseMirror > h1:first-child,
.prose .ProseMirror > h2:first-child,
.prose .ProseMirror > h3:first-child {
  margin-top: 0;
}
